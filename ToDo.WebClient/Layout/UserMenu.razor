@using Microsoft.AspNetCore.Components.Authorization
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication
@inject NavigationManager NavigationManager

<AuthorizeView>
    <Authorized>
        <RadzenMenu>
            <RadzenMenuItem Text="@context.User.Identity?.Name" Icon="account_circle">
                <RadzenMenuItem Text="Logout" Icon="logout" Click="BeginSignOut" />
            </RadzenMenuItem>
        </RadzenMenu>
    </Authorized>
    <NotAuthorized>
        <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" Gap="0.5rem">
            <RadzenButton Text="Login" Click="@(() => NavigationManager.NavigateTo("authentication/login"))" ButtonStyle="ButtonStyle.Light" />
            <RadzenButton Text="Register" Click="@(() => NavigationManager.NavigateTo("authentication/register"))" ButtonStyle="ButtonStyle.Light" />
        </RadzenStack>
    </NotAuthorized>
</AuthorizeView>

@code {
    private void BeginSignOut()
    {
        NavigationManager.NavigateToLogout("authentication/logout");
    }
}
